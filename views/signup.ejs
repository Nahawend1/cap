<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
</head>
<body class="container mt-4">

    <%- include('partials/navbar', { page: 'signup' }) %>

    <main class="pt-3">
        <h1>Sign Up</h1>
        <p>Create your profile account.</p>

        <% if (typeof error !== 'undefined' && error) { %>
            <div class="alert alert-danger"><%= error %></div>
        <% } %>

        <form action="/signup" method="POST" id="signupForm" class="needs-validation" novalidate enctype="multipart/form-data">

             <fieldset class="border p-3 rounded mb-3">
                <legend class="fs-5">Required Information</legend>
                <div class="mb-3"> <label for="username" class="form-label">Username</label> <input type="text" class="form-control" id="username" name="username" required minlength="3"> <div class="invalid-feedback">Min 3 chars.</div> </div>
                <div class="mb-3"> <label for="email" class="form-label">Email</label> <input type="email" class="form-control" id="email" name="email" required> <div class="invalid-feedback">Valid email required.</div> </div>
                 <div class="mb-3"> <label for="password" class="form-label">Password</label> <input type="password" class="form-control" id="password" name="password" required minlength="6"> <div class="invalid-feedback">Min 6 chars.</div> </div>
            </fieldset>

             <fieldset class="border p-3 rounded mb-3">
                 <legend class="fs-5">Optional Information</legend>
                 <div class="mb-3"> <label for="firstName" class="form-label">First Name</label> <input type="text" class="form-control" id="firstName" name="firstName"> </div>
                 <div class="mb-3"> <label for="lastName" class="form-label">Last Name</label> <input type="text" class="form-control" id="lastName" name="lastName"> </div>
                 <div class="mb-3"> <label for="city" class="form-label">City</label> <input type="text" class="form-control" id="city" name="city"> </div>

                 <div class="mb-3">
                     <label for="profilePicture" class="form-label">Profile Picture (Optional)</label>
                     <input class="form-control" type="file" id="profilePicture" name="profilePicture" accept="image/png, image/jpeg, image/gif, image/webp">
                     <div class="form-text">Max 5MB. Allowed types: PNG, JPG, GIF, WebP.</div>
                 </div>
             </fieldset>
            <button type="submit" class="btn btn-primary">Sign Up</button>
            <p class="mt-3">Already have an account? <a href="/login">Log In</a></p>
        </form>
    </main>
    <script>
      (() => {'use strict';const forms = document.querySelectorAll('.needs-validation');Array.from(forms).forEach(form => {form.addEventListener('submit', event => {if (!form.checkValidity()) {event.preventDefault();event.stopPropagation();}form.classList.add('was-validated');}, false);});})(); </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>